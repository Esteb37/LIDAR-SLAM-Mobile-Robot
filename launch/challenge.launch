<?xml version="1.0" encoding="UTF-8"?>

    <launch>
		<include file="$(find rplidar_ros)/launch/rplidar_a1.launch"/>

        <!--Puzzlebot Parameters-->
        <arg name="pos_x" default="0.31"/>
		<arg name="pos_y" default="-0.27"/>
		<arg name="pos_theta" default="0.0"/>

		<arg name="goal_x" default="2.93"/>
		<arg name="goal_y" default="-1.62"/>

		<arg name="eps" default="0.2"/>

		<include file="$(find aranchubots_autonomousnavigation_puzzlebot)/launch/include/robot/description_real.launch"/>

		<node pkg="aranchubots_autonomousnavigation_puzzlebot" type="odom.py" name="odom_node" >
			<param name="pos_x" value="$(arg pos_x)" />
			<param name="pos_y" value="$(arg pos_y)" />
			<param name="pos_theta" value="$(arg pos_theta)" />
			<param name="goal_x" value="$(arg goal_x)" />
			<param name="goal_y" value="$(arg goal_y)" />
		</node>


		<node pkg="aranchubots_autonomousnavigation_puzzlebot" type="bug2.py" name="bug2" output="screen">
			<param name="goal_x" value="$(arg goal_x)" />
			<param name="goal_y" value="$(arg goal_y)" />
			<param name="eps" value="$(arg eps)" />
		</node>

		<arg name="map_file" default="$(find aranchubots_autonomousnavigation_puzzlebot)/maps/map.yaml"/>
    	<node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" />

		<node type="rviz" name="rviz" pkg="rviz" args="-d $(find aranchubots_autonomousnavigation_puzzlebot)/rviz/bug0.rviz"/>

    </launch>
